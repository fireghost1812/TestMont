<!DOCTYPE html>
<html lang="en/ru">
<head>
    <meta charset="UTF-8">
    <title>Filter with AngularJS</title>
    <script src="vendor/angular/angular.min.js"></script>
    <script src="app.js"></script>
</head>
<body>
    <div class="container" ng-app="sortApp" ng-controller="mainController">

        <div class="alert alert-info">
            <p>Сортировка по: {{ sortType }}</p>
            <p>Обратная сортировка: {{ sortReverse }}</p>
            <p>Поиск: {{ search}}</p>
        </div>

        <form>
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-search"></i></div>
                    <input type="text" class="form-control" placeholder="Search" ng-model="search">
                </div>
            </div>
            <div class="form-group">
                <div class="input-group-data">
                    <div class="input-group-data-addon">с<i class="fa fa-searchData"></i></div>
                    <input type="text" class="form-control" placeholder="data" ng-model="searchData">
                </div>
            </div>
            <div class="form-group">
                <div class="input-group-dataUntil">
                    <div class="input-group-dataUntil-addon">по<i class="fa fa-searchDataUntil"></i></div>
                    <input type="text" class="form-control" placeholder="dataUntil" ng-model="searchDataUntil">
                </div>
            </div>
            <div class="form-group">
                <div class="input-group-searchClient">
                    <div class="input-group-searchClient-addon">Заказчики<i class="fa fa-searchClient"></i></div>
                    <input type="text" class="form-control" placeholder="Заказчик" ng-model="searchClient">
                </div>
            </div>
            <div class="form-group">
                <div class="input-group-searchStatus">
                    <div class="input-group-searchStatus-addon">Статус<i class="fa fa-searchStatus"></i></div>
                    <input type="text" class="form-control" placeholder="Статус" ng-model="searchStatus">
                </div>
            </div>
        </form>

        <table class="table table-bordered table-striped">

            <thead>
            <tr>
                <td>
                    <!-- при помощи ng-click обрабатываем заголовок таблицы  для каждого столбца и определяем порядок сортировки с
                    ng-show и sortReverse
                    -->
                    <a href="#" ng-click="sortType = 'offer'; sortReverse = !sortReverse">
                        Предложения
                        <span ng-show="sortType == 'offer' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'offer' && sortReverse" class="fa fa-caret-up"></span>
                    </a>
                </td>
                <td>
                    <a href="#" ng-click="sortType = 'created'; sortReverse = !sortReverse">
                        Создано
                        <span ng-show="sortType == 'created' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'created' && sortReverse" class="fa fa-caret-up"></span>
                    </a>
                </td>
                <td>
                    <a href="#" ng-click="sortType = 'amount'; sortReverse = !sortReverse">
                        Сумма
                        <span ng-show="sortType == 'amount' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'amount' && sortReverse" class="fa fa-caret-up"></span>
                    </a>
                </td>
                <td>
                    <a href="#" ng-click="sortType = 'validUntil'; sortReverse = !sortReverse">
                        Действует до
                        <span ng-show="sortType == 'validUntil' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'validUntil' && sortReverse" class="fa fa-caret-up"></span>
                    </a>
                </td>
                <td>
                    <a href="#" ng-click="sortType = 'status'; sortReverse = !sortReverse">
                        Статус
                        <span ng-show="sortType == 'status' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'status' && sortReverse" class="fa fa-caret-up"></span>
                    </a>
                </td>
                <td>
                    <a href="#" ng-click="sortType = 'comment'; sortReverse = !sortReverse">
                        Комментарий
                        <span ng-show="sortType == 'comment' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'comment' && sortReverse" class="fa fa-caret-up"></span>
                    </a>
                </td>
            </tr>
            </thead>

            <tbody>
            <tr ng-repeat="dataApp in orders | orderBy:sortType:sortReverse | filter:search | filter:searchData  | filter:searchDataUntil | filter:searchClient | filter:searchStatus">
                <td>{{ dataApp.offer }}</td>
                <td>{{ dataApp.created }}</td>
                <td>{{ dataApp.amount }}</td>
                <td>{{ dataApp.validUntil }}</td>
                <td>{{ dataApp.status }}</td>
                <td>{{ dataApp.comment }}</td>
            </tr>
            </tbody>

        </table>

    </div>
</body>
</html>